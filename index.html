<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap" rel="stylesheet">
        <style>
          :root { --hint-bg: rgba(0,0,0,.6); --hint-fg: #fff; }
          html, body { height: 100%; margin: 0; }
          body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            display: grid; place-items: center;
            /* background: #0f172a; color: #e5e7eb; */
          }
          .wrap { text-align: center; }
          h1 { font-size: 1.25rem; margin: .25rem 0 .5rem; }
          p { margin: 0; opacity: .8; }
      
          /* The little “enable sound” chip */
          .hint {
            position: fixed; left: 50%; bottom: 24px; transform: translateX(-50%);
            background: var(--hint-bg); color: var(--hint-fg);
            padding: 10px 14px; border-radius: 999px;
            display: flex; gap: 10px; align-items: center;
            user-select: none; -webkit-user-select: none;
            backdrop-filter: blur(6px);
            transition: opacity .25s ease, visibility .25s ease;
            cursor: pointer;
          }
          .hint.hidden { opacity: 0; visibility: hidden; }
          .hint button {
            all: unset;
            padding: 6px 10px; border-radius: 999px;
            background: #BB1998; color: #fffce5; font-weight: 600;
          }
          .hint .dot { width: 8px; height: 8px; border-radius: 50%; background: #BB1998; }
          .sr-only { position: absolute; width: 1px; height: 1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,1px,1px); white-space:nowrap; border:0; }
        </style>
    </head>
    <body>
        <div class="letter-image">
            <div class="animated-mail">
              <div class="back-fold"></div>
              <div class="letter">
                <!-- <div class="letter-border"></div> -->
                <div class="letter-context-body">
                  <div class="scroll-inner">
                    <p><strong>My Dearest Naddie,</strong><br><br>
                      I couldn't sleep last night because I know that it's over between us. I'm not bitter anymore, because I know that what we had was real. And if in some distant place in the future we see each other in our new lives, I'll smile at you with joy and remember how we spent the summer beneath the trees, learning from each other and growing in love. <br>
                      <br>
                      Nadya... I am writing this letter 16168Km away from you and am very disheartened to know that I cannot write you something myself. Which is why I created this website. I hope u like it. I am in grief by your lack of presence and everyday I yearn for more time with you.
                      <br>
                      Lol. Nadya I hope you have another beautiful year around the sun. You continue to light everyone who crosses path with you. You've truly changed my life and the way I see the world. Most importantly, you have introduced me to a new part of my identity, which is Lake with brows. And now my baddie transformation is complete. I am so incredibly heartbroken and jelous that I am not there with you right now. Please tell me! How was your clown show? How did you spend your day? What did you wear? How did your family wish you a happy birthday? What new and cool and fun things did you discover in your new age? I need Nadya content please! Let's introduce a new thing where every 1-3 days we send each other WhatsApp videos updating our day even if its silly nilly. I'm sad to hear that I can't call you in the morning here and night there because you might be asleep but I am glad to hear you are sleeping at a better schedule. 
                      <br><br>
                      I can't believe it only has been 2 weeks since I left literally my home and am misplaced in this foreign country. It literally feels like a year without you. I will always miss the days of you cooking me lemon pasta and me saying there's too much lemon, us playing ukulele and singing together and you forgetting to scroll and pin the chords, us sleeping on the couch while watching a movie that took us 40 minutes to pick, me waking you up three times and you being angry in your state of half-consciousness, us on our tweak walk... omg nad i hope you know how much i appreciate you bc u were there in literally the darkest hole of my life and because of you i turned a crash fucking out worse day in the world into something beautiful and meeting daniel caesar.  
                      <br><br>
                      I am really excited as you embark on your new journey of becoming older and learning more about the world. Nadya Zachra Amir you hold a special place in my heart it feels like I've known you all my life. You really are a character that shaped the best days of my life and I am so thankful to have met you. I really have never met someone like you. Which I bet everyone thinks the same too... because well you're so Nadya core. I wish you nothing but happiness in this new year. I only hope that everyone else has as much love to give into the world as you do. Have a great fucking birthday.<br>
                      <br>From your love and your loins (?),
                      <br>I hold you near and dear in my heart,<br>
                      <b>Lakaykay</b>
                      <br><br><br><br><br><br><br>
                    </p>
                  </div>
                </div>
                <!-- <div class="letter-stamp">
                  <div class="letter-stamp-inner"></div>
                </div> -->
              </div>
              <div class="top-fold"></div>
              <div class="body"></div>
              <div class="left-fold"></div>
            </div>
            <!-- <div class="shadow"></div> -->
          </div>
          <!-- <div style="opacity: 0.5;">
            <audio id="myAudio" autoplay muted playsinline preload="auto" controls>
              <source src="bound.mp3" type="audio/mpeg" />
            </audio>
          </div> -->
      
          <!-- letter starts here -->
          <!-- <div class="wrap">
            <h1>Audio will start automatically</h1>
            <p>(If your browser blocks it, tap/click once to enable sound.)</p>
          </div> -->
        
          <!-- Your audio -->
          <audio id="bgAudio"
                 src="bound.mp3"
                 preload="auto"
                 loop
                 playsinline
                 webkit-playsinline
                 muted
          ></audio>
        
          <!-- Enable-sound hint -->
          <div id="hint" class="hint" role="button" tabindex="0" aria-label="Enable sound">
            <span class="dot" aria-hidden="true"></span>
            <span>Tap to enable sound</span>
            <button id="enableBtn" type="button" aria-describedby="hint-desc">Enable</button>
            <span id="hint-desc" class="sr-only">Press to unmute audio</span>
          </div>
          
        <script src="./script.js" async defer></script>
        <!-- <script>
          // --- minimal inline safety in case external script fails to load ---
          (function () {
            const audio = document.getElementById("myAudio");
            if (!audio) return;
    
            // Try muted autoplay once DOM is ready (some browsers allow this)
            if (document.readyState === "loading") {
              document.addEventListener("DOMContentLoaded", tryMutedAutoplay);
            } else {
              tryMutedAutoplay();
            }
    
            async function tryMutedAutoplay() {
              try {
                audio.muted = true;     // ensure muted before play()
                audio.volume = 0;       // start silent
                await audio.play();     // permitted when muted
              } catch (_) {
                // Autoplay blocked; we'll handle on first gesture
              }
            }
    
            // On first user gesture, fade in sound
            let armed = true;
            const enableSound = async () => {
              if (!armed) return;
              armed = false;
    
              try {
                if (audio.paused) await audio.play();
                audio.muted = false;
    
                // smooth fade-in
                let v = 0;
                const step = 0.05;
                const id = setInterval(() => {
                  v = Math.min(1, v + step);
                  audio.volume = v;
                  if (v >= 1) clearInterval(id);
                }, 100);
              } catch (_) {
                // If play still fails, re-arm to try again on the next gesture
                armed = true;
              }
            };
    
            ["click", "touchstart", "keydown"].forEach((ev) =>
              document.addEventListener(ev, enableSound, { once: false, passive: true })
            );
          })();
        </script> -->
        <script>
          (function () {
            const audio = document.getElementById('bgAudio');
            const hint  = document.getElementById('hint');
            const enableBtn = document.getElementById('enableBtn');
      
            if (!audio) return;
      
            // Try to autoplay silently on load
            document.addEventListener('DOMContentLoaded', async () => {
              try {
                audio.volume = 0;     // start silent
                audio.muted  = true;  // required for autoplay
                await audio.play();   // most browsers allow muted autoplay
                // If autoplay succeeded, keep hint visible until user interacts (we’ll unmute then)
              } catch (err) {
                // Autoplay blocked even while muted (rare). We’ll rely on the gesture fallback below.
                // console.debug('Muted autoplay blocked:', err?.name || err);
              }
            });
      
            let soundEnabled = false;
      
            async function enableSound() {
              if (soundEnabled) return;
              soundEnabled = true;
      
              try {
                // Ensure audio is at least playing (some browsers require play() AFTER gesture)
                if (audio.paused) await audio.play();
      
                audio.muted = false;
      
                // Fade in volume over ~1.5s
                let v = 0;
                const step = 0.05;     // 20 steps
                const iv = setInterval(() => {
                  v = Math.min(1, v + step);
                  audio.volume = v;
                  if (v >= 1) clearInterval(iv);
                }, 75);
      
                // Hide the hint
                hint.classList.add('hidden');
              } catch (err) {
                // If something still fails, re-show hint so the user can try again
                soundEnabled = false;
                hint.classList.remove('hidden');
                // console.debug('Enable sound failed:', err?.name || err);
              }
            }
      
            // First user gesture anywhere enables sound
            const firstGesture = () => { enableSound(); window.removeEventListener('pointerdown', firstGesture); };
            window.addEventListener('pointerdown', firstGesture, { once: true });
      
            // Also wire the visible controls
            enableBtn.addEventListener('click', enableSound);
            hint.addEventListener('click', enableSound);
            hint.addEventListener('keydown', (e) => {
              if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); enableSound(); }
            });
      
            // Optional: if the page becomes visible again, ensure audio is playing
            document.addEventListener('visibilitychange', async () => {
              if (document.visibilityState === 'visible' && !audio.paused) {
                try { await audio.play(); } catch (_) {}
              }
            });
          })();
        </script>
    </body>
</html>